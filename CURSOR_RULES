# CURSOR RULES - Portfolio G√©rald Pam√©ole

## üéØ CONTEXTE DU PROJET

- **Framework**: Astro 3.6.5 avec React, TypeScript, Tailwind CSS
- **Type**: Portfolio professionnel multi-domaines (d√©veloppement web, gestion de projet, formation)
- **Architecture**: Site statique avec collections de contenu (articles, livres, projets)
- **Langue**: Fran√ßais (i18n configur√© pour fr/en/es)
- **D√©ploiement**: Site statique sur https://geraldpameole.fr

## üèóÔ∏è ARCHITECTURE & STRUCTURE

### Organisation des Fichiers

```
src/
‚îú‚îÄ‚îÄ components/          # Composants Astro (.astro) et React (.tsx)
‚îú‚îÄ‚îÄ config/             # Configuration centralis√©e (domaines, articles)
‚îú‚îÄ‚îÄ content/            # Collections de contenu (articles/, books/, work/)
‚îú‚îÄ‚îÄ layouts/            # Layouts Astro (BaseLayout.astro)
‚îú‚îÄ‚îÄ pages/              # Pages Astro (routing automatique)
‚îú‚îÄ‚îÄ styles/             # CSS global et sp√©cialis√©s
‚îú‚îÄ‚îÄ utils/              # Utilitaires TypeScript
‚îî‚îÄ‚îÄ types/              # D√©finitions TypeScript
```

### R√®gles de Nommage

- **Composants Astro**: PascalCase.astro (ex: ArticleCard.astro)
- **Composants React**: PascalCase.tsx (ex: Navbar.tsx)
- **Pages**: kebab-case.astro (ex: blog.astro, about.astro)
- **Utilitaires**: camelCase.ts (ex: themeUtils.ts)
- **Collections**: kebab-case/ (ex: articles/, books/)

## üé® DESIGN SYSTEM & STYLING

### Tailwind CSS

- **Configuration**: Utiliser les couleurs du syst√®me (primary, secondary, accent)
- **Dark Mode**: Toujours impl√©menter avec `dark:` prefix
- **Responsive**: Mobile-first avec breakpoints (sm:, md:, lg:, xl:)
- **Couleurs**: Utiliser les classes d√©finies dans `src/config/domains.ts`

### Couleurs par Domaine

```typescript
// Utiliser les couleurs d√©finies dans domains.ts
const colorClasses = {
  blue: "bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",
  green: "bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",
  // ... autres couleurs
};
```

### Ic√¥nes

- **Font Awesome**: Utiliser les classes `fas fa-*` d√©finies dans `domains.ts`
- **Coh√©rence**: Toujours utiliser les ic√¥nes du syst√®me de configuration

## üìù GESTION DU CONTENU

### Collections Astro

- **Articles**: Sch√©ma d√©fini dans `src/content/config.ts`
- **Validation**: Utiliser Zod pour la validation des sch√©mas
- **M√©tadonn√©es**: Toujours inclure title, description, publishDate, tags

### Articles par Domaine

- **Configuration**: Utiliser `src/config/featured-articles.ts`
- **Organisation**: Articles organis√©s dans des dossiers par domaine
- **S√©lection**: 3 articles maximum par domaine sur les pages principales

### Frontmatter Standard

```yaml
---
draft: false
title: "Titre de l'article"
description: "Description courte et claire"
author: "G√©rald Pam√©ole"
type: "article"
featured: true
readingTime: 8
publishDate: "2024-01-01"
tags: ["tag1", "tag2"]
keywords: ["#keyword1", "#keyword2"]
---
```

## üß© COMPOSANTS

### Composants Astro

- **Props**: D√©finir des interfaces TypeScript pour les props
- **Slots**: Utiliser `<slot />` pour le contenu dynamique
- **Client Directives**: Utiliser `client:load` pour les composants interactifs

### Composants React

- **Props**: Toujours typer avec TypeScript
- **Hooks**: Utiliser les hooks React standards
- **Performance**: Utiliser `React.memo` si n√©cessaire

### Exemple de Composant Astro

```astro
---
interface Props {
  article: CollectionEntry<'articles'>;
  variant?: 'full' | 'compact';
}

const { article, variant = 'full' } = Astro.props;
---

<div class="article-card">
  <h3>{article.data.title}</h3>
  <p>{article.data.description}</p>
</div>
```

## üîß CONFIGURATION & UTILITAIRES

### Configuration Centralis√©e

- **Domaines**: Utiliser `src/config/domains.ts` pour les configurations
- **Articles**: Utiliser `src/config/featured-articles.ts` pour la s√©lection
- **Th√®mes**: Utiliser `src/utils/themeUtils.ts` pour les th√®mes

### Fonctions Utilitaires

- **Type Safety**: Toujours typer les param√®tres et retours
- **Validation**: Utiliser Zod pour la validation des donn√©es
- **Performance**: Optimiser les fonctions de filtrage et tri

### Exemple de Fonction Utilitaire

```typescript
export function getArticlesForDomain(
  domain: string
): CollectionEntry<"articles">[] {
  const featuredSlugs = getFeaturedArticlesForDomain(domain);
  return articles
    .filter((article) => featuredSlugs.includes(article.slug))
    .sort((a, b) => {
      if (a.data.featured && !b.data.featured) return -1;
      return (
        new Date(b.data.publishDate).getTime() -
        new Date(a.data.publishDate).getTime()
      );
    });
}
```

## üì± RESPONSIVE DESIGN

### Breakpoints Tailwind

- **Mobile**: Base (pas de prefix)
- **Tablet**: `sm:` (640px+)
- **Desktop**: `md:` (768px+)
- **Large**: `lg:` (1024px+)
- **XL**: `xl:` (1280px+)

### Grilles Responsives

```astro
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  <!-- Contenu -->
</div>
```

## ‚ö° PERFORMANCE

### Optimisation des Images

- **Format**: Utiliser WebP quand possible
- **Lazy Loading**: Toujours ajouter `loading="lazy"`
- **Attributs**: Inclure `width` et `height` pour √©viter CLS
- **Fallback**: Pr√©voir des images de fallback

### Exemple d'Image Optimis√©e

```astro
<img
  src={article.data.image}
  alt={article.data.title}
  width="400"
  height="250"
  loading="lazy"
  decoding="async"
  fetchpriority="low"
  class="w-full h-48 object-cover rounded-lg"
/>
```

### Pr√©chargement

- **Ressources critiques**: Utiliser `preconnect` et `dns-prefetch`
- **Fonts**: Pr√©charger les polices Google Fonts
- **CDN**: Pr√©charger les ressources externes

## üîç SEO & ACCESSIBILIT√â

### SEO

- **M√©ta tags**: Toujours inclure title, description, keywords
- **Open Graph**: Impl√©menter les balises OG
- **Structured Data**: Utiliser JSON-LD quand appropri√©
- **URLs**: Utiliser des URLs propres et descriptives

### Accessibilit√©

- **Alt text**: Toujours inclure pour les images
- **ARIA**: Utiliser les attributs ARIA appropri√©s
- **Contraste**: V√©rifier les ratios de contraste
- **Navigation**: Support clavier complet

### Exemple de M√©ta Tags

```astro
---
const pageTitle = "Titre de la page";
const pageDescription = "Description SEO optimis√©e";
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <!-- Contenu -->
</BaseLayout>
```

## üöÄ D√âPLOIEMENT & BUILD

### Scripts NPM

- **dev**: `npm run dev` (d√©veloppement)
- **build**: `npm run build` (production avec v√©rification TypeScript)
- **preview**: `npm run preview` (pr√©visualisation)

### Configuration Astro

- **Site URL**: https://geraldpameole.fr
- **i18n**: Fran√ßais par d√©faut, support EN/ES
- **Integrations**: MDX, React, Tailwind, Icon

## üß™ TESTING & QUALIT√â

### TypeScript

- **Strict Mode**: Activer le mode strict
- **Types**: Toujours typer les props et fonctions
- **Interfaces**: D√©finir des interfaces claires

### Validation

- **Build**: `astro check` avant chaque build
- **Content**: Valider le frontmatter avec Zod
- **Links**: V√©rifier les liens internes

## üìö CONVENTIONS DE CODE

### TypeScript

- **Interfaces**: Pr√©fixer avec `I` ou utiliser des noms descriptifs
- **Types**: Utiliser `type` pour les unions simples
- **Enums**: Utiliser `const` assertions pour les objets

### Astro

- **Scripts**: Utiliser `is:inline` pour les scripts inline
- **Styles**: Pr√©f√©rer les classes Tailwind aux styles inline
- **Client Directives**: Utiliser `client:load` pour l'hydratation

### React

- **Hooks**: Utiliser les hooks standards (useState, useEffect, etc.)
- **Props**: Toujours typer avec des interfaces
- **Performance**: Utiliser React.memo pour les composants co√ªteux

## üîÑ GESTION DES √âTATS

### √âtat Global

- **Configuration**: Utiliser les fichiers de config centralis√©s
- **Th√®mes**: G√©rer via localStorage et classes CSS
- **Navigation**: Utiliser les √©tats React locaux

### √âtat Local

- **Composants**: Utiliser useState pour l'√©tat local
- **Formulaires**: Utiliser react-hook-form
- **Animations**: Utiliser framer-motion

## üé® ANIMATIONS & INTERACTIONS

### Framer Motion

- **Animations**: Utiliser pour les transitions complexes
- **Performance**: √âviter les animations co√ªteuses
- **Accessibilit√©**: Respecter `prefers-reduced-motion`

### CSS Animations

- **Tailwind**: Utiliser les classes d'animation d√©finies
- **Custom**: D√©finir dans le CSS global si n√©cessaire

## üìä ANALYTICS & MONITORING

### Performance

- **Core Web Vitals**: Optimiser LCP, FID, CLS
- **Images**: Utiliser des formats modernes et lazy loading
- **Fonts**: Optimiser le chargement des polices

### Analytics

- **Tracking**: Impl√©menter Google Analytics si n√©cessaire
- **Events**: Tracker les interactions importantes

## üõ†Ô∏è OUTILS & WORKFLOW

### D√©veloppement

- **IDE**: Utiliser VS Code avec extensions Astro/TypeScript
- **Git**: Utiliser des messages de commit conventionnels
- **Linting**: Utiliser ESLint et Prettier

### D√©ploiement

- **Build**: V√©rifier que `npm run build` passe
- **Preview**: Tester avec `npm run preview`
- **Production**: D√©ployer uniquement apr√®s validation

## üö® R√àGLES IMPORTANTES

### ‚ùå √Ä √âVITER

- Ne pas utiliser de styles inline (pr√©f√©rer Tailwind)
- Ne pas oublier les attributs d'accessibilit√©
- Ne pas ignorer les erreurs TypeScript
- Ne pas utiliser de composants React non optimis√©s
- Ne pas oublier le lazy loading des images

### ‚úÖ √Ä FAIRE

- Toujours typer les props et fonctions
- Utiliser la configuration centralis√©e
- Impl√©menter le dark mode
- Optimiser les performances
- Tester la responsivit√©
- Valider le contenu avec Zod

## ‚úÖ CHECKLIST DE CODE REVIEW

Avant chaque commit, v√©rifier :

- [ ] **TypeScript** : pas d'erreurs, pas de `any`
- [ ] **Accessibilit√©** : alt, aria, keyboard navigation
- [ ] **Performance** : images optimis√©es, lazy loading
- [ ] **SEO** : meta tags, structure s√©mantique
- [ ] **Responsive** : mobile, tablet, desktop
- [ ] **Dark mode** : fonctionne correctement
- [ ] **Console** : pas d'erreurs ou warnings

## üìñ RESSOURCES

### Documentation

- **Astro**: https://docs.astro.build
- **Tailwind**: https://tailwindcss.com/docs
- **TypeScript**: https://www.typescriptlang.org/docs
- **React**: https://react.dev

### Outils

- **Astro Check**: V√©rification TypeScript
- **Tailwind IntelliSense**: Autocompl√©tion CSS
- **Prettier**: Formatage du code
- **ESLint**: Linting du code

---

**Note**: Ces r√®gles sont sp√©cifiques au projet Portfolio G√©rald Pam√©ole et doivent √™tre adapt√©es selon l'√©volution du projet.
