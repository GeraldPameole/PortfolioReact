---
import BaseLayout from '../layouts/BaseLayout.astro';
import { DOMAINS_CONFIG, COLOR_CLASSES, TEXT_COLORS, ICON_COLORS } from '../config/domains';
import { getCollection } from 'astro:content';
import { getFeaturedArticlesForDomain } from '../config/featured-articles';

// Récupérer les articles pour les domaines de compétences
const allArticles = await getCollection('articles');

// Fonction pour obtenir les articles d'un domaine spécifique
function getArticlesForDomain(domain: string) {
  const featuredSlugs = getFeaturedArticlesForDomain(domain);
  return allArticles.filter(article => 
    featuredSlugs.includes(article.slug)
  ).sort((a, b) => {
    if (a.data.featured && !b.data.featured) return -1;
    if (!a.data.featured && b.data.featured) return 1;
    return new Date(b.data.publishDate).getTime() - new Date(a.data.publishDate).getTime();
  });
}

// Définition des compétences basées sur le CV
const skillsData = [
  {
    category: "Gestion de Projet Télécom",
    icon: "fas fa-tasks",
    color: "text-blue-600",
    description: "Expertise en pilotage de projets complexes dans le secteur des télécommunications.",
    skills: [
      { name: "Leadership", level: 95, icon: "fas fa-users" },
      { name: "Gestion équipe pluridisciplinaire", level: 90, icon: "fas fa-user-tie" },
      { name: "Méthodologie Agile", level: 92, icon: "fas fa-sync-alt" },
      { name: "Gestion des risques", level: 88, icon: "fas fa-shield-alt" },
      { name: "Pilotage de la performance", level: 90, icon: "fas fa-chart-line" },
      { name: "Planification stratégique", level: 85, icon: "fas fa-tasks" },
    ]
  },
  {
    category: "Développement Web",
    icon: "fas fa-laptop-code",
    color: "text-green-600",
    description: "Conception et développement d'applications web front-end et back-end.",
    skills: [
      { name: "Développement front-end", level: 85, icon: "fas fa-laptop-code" },
      { name: "CMS", level: 80, icon: "fas fa-file-code" },
      { name: "Architecture réseau", level: 90, icon: "fas fa-network-wired" },
      { name: "APIs REST", level: 85, icon: "fas fa-exchange-alt" },
      { name: "Sécurité web", level: 88, icon: "fas fa-lock" },
      { name: "Performance web", level: 82, icon: "fas fa-tachometer-alt" },
    ]
  },
  {
    category: "Qualité & Process",
    icon: "fas fa-check-circle",
    color: "text-purple-600",
    description: "Mise en place et supervision de processus qualité et d'amélioration continue.",
    skills: [
      { name: "Surveillance qualité", level: 90, icon: "fas fa-search" },
      { name: "Audits qualité", level: 88, icon: "fas fa-clipboard-list" },
      { name: "Conformité", level: 85, icon: "fas fa-check-double" },
      { name: "KPIs et tableaux de bord", level: 92, icon: "fas fa-chart-bar" },
      { name: "Amélioration continue", level: 90, icon: "fas fa-redo" },
      { name: "Documentation processus", level: 85, icon: "fas fa-file-alt" },
    ]
  },
  {
    category: "Formation et Coaching",
    icon: "fas fa-graduation-cap",
    color: "text-red-600",
    description: "Développement des compétences, coaching et formation des équipes et individus.",
    skills: [
      { name: "Coaching performance", level: 90, icon: "fas fa-chalkboard-teacher" },
      { name: "Évaluation des performances", level: 88, icon: "fas fa-user-check" },
      { name: "Accompagnement individuel", level: 85, icon: "fas fa-hands-helping" },
      { name: "Conception de formation", level: 90, icon: "fas fa-book" },
      { name: "Animation d'ateliers", level: 92, icon: "fas fa-users-cog" },
      { name: "Analyse des besoins", level: 85, icon: "fas fa-search-plus" },
    ]
  },
  {
    category: "Développement Commercial",
    icon: "fas fa-handshake",
    color: "text-orange-600",
    description: "Élaboration et mise en œuvre de stratégies commerciales pour atteindre les objectifs d'entreprise.",
    skills: [
      { name: "Gestion relation client", level: 92, icon: "fas fa-user-friends" },
      { name: "Négociation", level: 90, icon: "fas fa-comments-dollar" },
      { name: "Techniques de vente", level: 88, icon: "fas fa-funnel-dollar" },
      { name: "Analyse de marché", level: 85, icon: "fas fa-chart-pie" },
      { name: "Plan d'action commercial", level: 90, icon: "fas fa-bullseye" },
      { name: "KPI commerciaux", level: 92, icon: "fas fa-chart-line" },
    ]
  }
];

// Compétences techniques spécifiques
const technicalSkills = [
  { name: "Gestion des équipes", level: 95 },
  { name: "Coordination d'équipes multidisciplinaires", level: 90 },
  { name: "Optimisation de processus", level: 88 },
  { name: "Sécurité réseau", level: 85 },
  { name: "Management à distance", level: 90 },
  { name: "Optimisation des coûts", level: 85 },
  { name: "Delivery management", level: 92 },
  { name: "Analyse des retours clients", level: 88 },
  { name: "Vision stratégique", level: 90 },
  { name: "Documentation technique", level: 85 },
  { name: "CRM", level: 80 },
];

// Certifications et Formations
const certifications = [
  {
    title: "IFOCOP -Institut de Formation Professionnelle",
    organization: "Titre RNCP de niveau VI (Bac+3/4)",
    year: "2019-2020",
    icon: "certificate"
  },
  {
    title: "G2R Formation",
    organization: "Gestion de Projet Développement Web",
    year: "2019",
    icon: "project-diagram"
  },
  {
    title: "ENI Formation",
    organization: "Concepteur et Développeur de Logiciels",
    year: "2018-2019",
    icon: "laptop-code"
  },
  {
    title: "IUT Marne la Vallée",
    organization: "DUT Techniques de Commercialisation",
    year: "2004",
    icon: "university"
  }
];

// Expériences professionnelles significatives
const workExperiences = [
  {
    title: "KEOS TELECOM",
    position: "Chef de projet pilotage d'activité",
    period: "Depuis 2021",
    description: "Coordination d'équipes multidisciplinaires, performance et évolutivité, optimisation des opérations."
  },
  {
    title: "ACTIV PARTNERS",
    position: "Développeur web front-end",
    period: "2019-2021",
    description: "Gestion de projets web, développement front-end, optimisation de la sécurité des sites web."
  },
  {
    title: "SFR",
    position: " Superviseur développement commercial Rétention",
    period: "2015-2018",
    description: "Formation continue, accompagnement stratégique des équipes commerciales, développement et optimisation des performances commerciales."
  },
  {
    title: "SFR",
    position: "Chargé de qualité ",
    period: "2012-2015",
    description: "Mise en place et suivi des standards de qualité, évaluation de la qualité du service, formation et coaching, gestion des plaintes et retours, analyse et reporting."
  },
  {
    title: "SFR",
    position: "Chargé de formation Outils et Méthodes",
    period: "2009-2012",
    description: "Conception et animation de formations sur les outils et méthodes de travail, support et accompagnement des équipes commerciales, développement des compétences et optimisation des performances."
  },
  {
    title: "SFR",
    position: "Chargé de développement commercial",
    period: "2006-2009",
    description: "Développement commercial, optimisation des KPIs, processus de vente et fidélisation."
  }];
---

<BaseLayout
  title="Compétences & Expertise | Gérald Paméole | Consultant Télécom"
  description="Portfolio de compétences en gestion de projet télécoms, développement web, qualité et formation. Expertise technique et managériale certifiée."
  customClass="skills-page"
>
  <!-- En-tête de page -->
  <section class="py-16 md:py-24 bg-gradient-to-r from-indigo-600/5 to-violet-600/5">
    <div class="container mx-auto px-4">
      <div class="content-container text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-6 text-[#111827] dark:text-white">
          Compétences & Expertise
        </h1>
        <p class="text-xl text-[#111827] dark:text-gray-300 mb-8">
          Plus de 15 ans d'expérience dans la conduite de projets télécoms, le développement web, 
          et l'optimisation des processus organisationnels.
        </p>
        <div class="flex flex-wrap justify-center gap-3">
          <span class={`px-4 py-2 rounded-full ${COLOR_CLASSES.blue}`}>
            Gestion de Projet
          </span>
          <span class={`px-4 py-2 rounded-full ${COLOR_CLASSES.green}`}>
            Développement Web
          </span>
          <span class={`px-4 py-2 rounded-full ${COLOR_CLASSES.purple}`}>
            Qualité & Process
          </span>
          <span class={`px-4 py-2 rounded-full ${COLOR_CLASSES.red}`}>
            Formation
          </span>
          <span class={`px-4 py-2 rounded-full ${COLOR_CLASSES.orange}`}>
            Développement Commercial
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- Grilles de compétences -->
  <section class="py-16 bg-white dark:bg-gray-900">
    <div class="container mx-auto px-4">
      <!-- Conteneur principal avec style "cube" -->
      <div class="bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-3xl border-2 border-gray-200 dark:border-gray-600 shadow-2xl p-8 md:p-12">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-gray-800 dark:text-white mb-4">Domaines d'Expertise</h2>
          <p class="text-lg text-gray-600 dark:text-gray-300">Mes compétences organisées par domaine d'activité</p>
        </div>
        
        <!-- Première ligne : 3 blocs -->
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8 mb-12">
          {skillsData.slice(0, 3).map((category) => (
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-xl">
              <div class="p-6 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-gray-50 to-white dark:from-gray-700 dark:to-gray-800">
                <div class="flex items-center gap-4 mb-4">
                  <div class={`p-4 rounded-xl ${category.color} bg-opacity-10`}>
                    <span class="text-2xl">
                    <i class={`fas fa-${category.icon}`}></i>
                  </span>
                  </div>
                  <h3 class="text-lg font-bold text-gray-800 dark:text-white leading-tight">{category.category}</h3>
                </div>
                <p class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed">{category.description}</p>
            </div>
            <div class="p-6">
                <div class="space-y-4">
                {category.skills.map((skill) => (
                    <div class="group">
                      <div class="flex justify-between items-center mb-3">
                        <div class="flex items-center gap-3">
                          <span class="text-gray-500 dark:text-gray-400 w-5 h-5 inline-flex items-center justify-center group-hover:text-indigo-500 transition-colors">
                            <i class={`fas fa-${skill.icon} text-sm`}></i>
                        </span>
                          <span class="font-medium text-gray-700 dark:text-gray-200 text-sm">{skill.name}</span>
                        </div>
                        <span class="text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full">{skill.level}%</span>
                      </div>
                      <div class="w-full h-3 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
                        <div 
                          class={`h-full ${category.color.replace('text-', 'bg-')} rounded-full transition-all duration-1000 ease-out`} 
                          style={`width: ${skill.level}%`}
                        ></div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          ))}
        </div>

        <!-- Deuxième ligne : 2 blocs -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          {skillsData.slice(3, 5).map((category) => (
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-xl">
              <div class="p-6 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-gray-50 to-white dark:from-gray-700 dark:to-gray-800">
                <div class="flex items-center gap-4 mb-4">
                  <div class={`p-4 rounded-xl ${category.color} bg-opacity-10`}>
                    <span class="text-2xl">
                      <i class={`fas fa-${category.icon}`}></i>
                    </span>
                  </div>
                  <h3 class="text-lg font-bold text-gray-800 dark:text-white leading-tight">{category.category}</h3>
                </div>
                <p class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed">{category.description}</p>
              </div>
              <div class="p-6">
                <div class="space-y-4">
                  {category.skills.map((skill) => (
                    <div class="group">
                      <div class="flex justify-between items-center mb-3">
                        <div class="flex items-center gap-3">
                          <span class="text-gray-500 dark:text-gray-400 w-5 h-5 inline-flex items-center justify-center group-hover:text-indigo-500 transition-colors">
                            <i class={`fas fa-${skill.icon} text-sm`}></i>
                          </span>
                          <span class="font-medium text-gray-700 dark:text-gray-200 text-sm">{skill.name}</span>
                        </div>
                        <span class="text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full">{skill.level}%</span>
                      </div>
                      <div class="w-full h-3 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
                        <div 
                          class={`h-full ${category.color.replace('text-', 'bg-')} rounded-full transition-all duration-1000 ease-out`} 
                        style={`width: ${skill.level}%`}
                      ></div>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </div>
        ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Compétences techniques spécifiques -->
  <section class="py-16 bg-gray-50 dark:bg-gray-800">
    <div class="container mx-auto px-4">
      <div class="content-container text-center mb-12">
        <h2 class="text-3xl font-bold text-[#111827] dark:text-white mb-4">Compétences techniques</h2>
        <p class="text-lg text-[#111827] dark:text-gray-300">
          Une expertise approfondie dans divers domaines techniques liés au management et aux télécommunications.
        </p>
      </div>

      <div class="content-container grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8">
        {technicalSkills.map((skill) => (
          <div>
            <div class="flex justify-between items-center mb-2">
              <span class="font-medium text-[#111827] dark:text-white">{skill.name}</span>
              <span class="text-sm text-gray-500 dark:text-gray-400">{skill.level}%</span>
            </div>
            <div class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
              <div 
                class="h-full bg-indigo-600 dark:bg-indigo-500 rounded-full" 
                style={`width: ${skill.level}%`}
              ></div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Expériences professionnelles -->
  <section class="py-16 bg-white dark:bg-gray-900">
    <div class="container mx-auto px-4">
      <div class="content-container text-center mb-12">
        <h2 class="text-3xl font-bold text-[#111827] dark:text-white mb-4">Parcours professionnel</h2>
        <p class="text-lg text-[#111827] dark:text-gray-300">
          Mon expérience professionnelle a forgé mes compétences et mon expertise.
        </p>
      </div>

      <div class="content-container-narrow">
        <div class="relative border-l-2 border-indigo-500 dark:border-indigo-400 ml-3 md:ml-6 pl-8 pb-6">
          {workExperiences.map((experience, index) => (
            <div class={`mb-12 ${index === workExperiences.length - 1 ? 'mb-0' : ''}`}>
              <div class="absolute w-4 h-4 bg-indigo-600 rounded-full -left-2 mt-2"></div>
              <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                <h3 class="text-xl font-bold text-[#111827] dark:text-white">
                  {experience.title}
                </h3>
                <p class="text-blue-600 dark:text-blue-400 font-medium mb-2">
                  {experience.position} | {experience.period}
                </p>
                <p class="text-[#111827] dark:text-gray-300">
                  {experience.description}
                </p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Certifications -->
  <section class="py-16 bg-gray-50 dark:bg-gray-800">
    <div class="container mx-auto px-4">
      <div class="content-container text-center mb-12">
        <h2 class="text-3xl font-bold text-[#111827] dark:text-white mb-4">Formation & Certifications</h2>
        <p class="text-lg text-[#111827] dark:text-gray-300">
          Je m'engage dans une formation continue pour rester à la pointe des compétences dans mon domaine.
        </p>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        {certifications.map((cert) => (
          <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-md flex flex-col items-center text-center">
            <div class="w-12 h-12 text-blue-600 dark:text-blue-400 mb-4 flex items-center justify-center text-2xl">
              <i class={`fas fa-${cert.icon}`}></i>
            </div>
            <h3 class="text-lg font-semibold text-[#111827] dark:text-white mb-2">{cert.title}</h3>
            <p class="text-[#111827] dark:text-gray-300 mb-1">{cert.organization}</p>
            <p class="text-sm text-gray-500 dark:text-gray-400">{cert.year}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Articles Recommandés par Domaine -->
  <section class="py-16 bg-white dark:bg-gray-900">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-[#111827] dark:text-white mb-4">Articles Recommandés</h2>
        <p class="text-lg text-[#111827] dark:text-gray-300">
          Découvrez mes articles spécialisés dans chaque domaine de compétence
        </p>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Gestion de Projet -->
        <div class="bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-700">
          <div class="flex items-center mb-4">
            <div class="w-10 h-10 bg-blue-600 text-white rounded-lg flex items-center justify-center mr-3">
              <i class="fas fa-tasks"></i>
            </div>
            <h3 class="text-xl font-bold text-[#111827] dark:text-white">Gestion de Projet</h3>
          </div>
          <div class="space-y-3">
            {getArticlesForDomain('gestion-projet').slice(0, 3).map((article) => (
              <a href={`/articles/${article.slug}`} class="block p-3 bg-white dark:bg-gray-800 rounded-lg hover:shadow-md transition-shadow">
                <h4 class="font-semibold text-[#111827] dark:text-white text-sm mb-1">{article.data.title}</h4>
                <p class="text-xs text-gray-600 dark:text-gray-400">{article.data.description.substring(0, 80)}...</p>
              </a>
            ))}
          </div>
        </div>

        <!-- Développement Web -->
        <div class="bg-gradient-to-br from-purple-50 to-pink-100 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl p-6 border border-purple-200 dark:border-purple-700">
          <div class="flex items-center mb-4">
            <div class="w-10 h-10 bg-purple-600 text-white rounded-lg flex items-center justify-center mr-3">
              <i class="fas fa-code"></i>
            </div>
            <h3 class="text-xl font-bold text-[#111827] dark:text-white">Développement Web</h3>
          </div>
          <div class="space-y-3">
            {getArticlesForDomain('developpement-web').slice(0, 3).map((article) => (
              <a href={`/articles/${article.slug}`} class="block p-3 bg-white dark:bg-gray-800 rounded-lg hover:shadow-md transition-shadow">
                <h4 class="font-semibold text-[#111827] dark:text-white text-sm mb-1">{article.data.title}</h4>
                <p class="text-xs text-gray-600 dark:text-gray-400">{article.data.description.substring(0, 80)}...</p>
              </a>
            ))}
          </div>
        </div>

        <!-- Formation -->
        <div class="bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/20 dark:to-emerald-900/20 rounded-2xl p-6 border border-green-200 dark:border-green-700">
          <div class="flex items-center mb-4">
            <div class="w-10 h-10 bg-green-600 text-white rounded-lg flex items-center justify-center mr-3">
              <i class="fas fa-graduation-cap"></i>
            </div>
            <h3 class="text-xl font-bold text-[#111827] dark:text-white">Formation</h3>
          </div>
          <div class="space-y-3">
            {getArticlesForDomain('formation').slice(0, 3).map((article) => (
              <a href={`/articles/${article.slug}`} class="block p-3 bg-white dark:bg-gray-800 rounded-lg hover:shadow-md transition-shadow">
                <h4 class="font-semibold text-[#111827] dark:text-white text-sm mb-1">{article.data.title}</h4>
                <p class="text-xs text-gray-600 dark:text-gray-400">{article.data.description.substring(0, 80)}...</p>
              </a>
            ))}
          </div>
        </div>

        <!-- Qualité & Processus -->
        <div class="bg-gradient-to-br from-red-50 to-orange-100 dark:from-red-900/20 dark:to-orange-900/20 rounded-2xl p-6 border border-red-200 dark:border-red-700">
          <div class="flex items-center mb-4">
            <div class="w-10 h-10 bg-red-600 text-white rounded-lg flex items-center justify-center mr-3">
              <i class="fas fa-check-circle"></i>
            </div>
            <h3 class="text-xl font-bold text-[#111827] dark:text-white">Qualité & Processus</h3>
          </div>
          <div class="space-y-3">
            {getArticlesForDomain('qualite-process').slice(0, 3).map((article) => (
              <a href={`/articles/${article.slug}`} class="block p-3 bg-white dark:bg-gray-800 rounded-lg hover:shadow-md transition-shadow">
                <h4 class="font-semibold text-[#111827] dark:text-white text-sm mb-1">{article.data.title}</h4>
                <p class="text-xs text-gray-600 dark:text-gray-400">{article.data.description.substring(0, 80)}...</p>
              </a>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-20 bg-gradient-to-r from-indigo-500 to-purple-600 text-white">
    <div class="container mx-auto px-4 text-center">
      <h2 class="text-3xl font-bold mb-6">Besoin d'un expert en projet télécom?</h2>
      <p class="text-xl mb-8 max-w-2xl mx-auto">
        Je suis à la recherche de nouveaux défis où je pourrai mettre à profit mon expertise 
        en gestion de projet, développement web et optimisation des processus.
      </p>
      <a 
        href="/contact" 
        class="inline-block px-8 py-3 bg-white text-indigo-600 font-medium rounded-full shadow-lg hover:bg-gray-100 transition-colors"
      >
        Me contacter
      </a>
    </div>
  </section>
</BaseLayout>

<style>
  .skills-page {
    scroll-behavior: smooth;
  }

  @keyframes skill-fill {
    from { width: 0%; }
    to { width: var(--skill-level); }
  }

  .skill-bar {
    animation: skill-fill 1s ease-out forwards;
  }
</style>

<!-- Script pour charger Font Awesome pour les icônes -->
<script is:inline>
  // Ajout de Font Awesome
  if (!document.querySelector('#font-awesome')) {
    const link = document.createElement('link');
    link.id = 'font-awesome';
    link.rel = 'stylesheet';
    link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css';
    document.head.appendChild(link);
  }

  // Apparition progressive des barres de compétences
  document.addEventListener('DOMContentLoaded', () => {
    const skillBars = document.querySelectorAll('.skill-bar');
    skillBars.forEach(bar => {
      const level = bar.getAttribute('data-level');
      bar.style.setProperty('--skill-level', `${level}%`);
    });
  });
</script> 