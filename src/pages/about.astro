---
import { getCollection } from 'astro:content';
import { ViewTransitions } from 'astro:transitions';
import BaseLayout from '../layouts/BaseLayout.astro';

// Récupérer les articles et les livres
const articles = await getCollection('articles');
const books = await getCollection('books');

// Trier les articles par date de publication
const sortedArticles = articles.sort((a, b) => 
	new Date(b.data.publishDate).getTime() - new Date(a.data.publishDate).getTime()
);

// Trier les livres par date de publication
const sortedBooks = books.sort((a, b) => 
	new Date(b.data.publishDate).getTime() - new Date(a.data.publishDate).getTime()
);

// Compter le nombre total d'articles et de livres
const totalArticles = articles.length;
const totalBooks = books.length;
---

<BaseLayout 
	title="À propos" 
	description="Découvrez mon parcours professionnel, mes compétences et ma passion pour le développement web et l'intelligence artificielle."
	customClass="bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-800"
>
	<ViewTransitions />

	<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
		<div class="text-center mb-16">
			<h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">
				À propos de moi
			</h1>
			<p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
				Développeur Full Stack passionné par l'innovation technologique et l'intelligence artificielle
			</p>
		</div>

		<div class="grid grid-cols-1 md:grid-cols-2 gap-12 mb-16">
			<div class="space-y-8">
				<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8">
					<h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">
						Mon parcours
					</h2>
					<p class="text-gray-600 dark:text-gray-300 mb-4">
						Avec plus de 10 ans d'expérience dans le développement web, j'ai eu l'opportunité de travailler sur des projets variés, allant des applications web aux solutions d'intelligence artificielle.
					</p>
					<p class="text-gray-600 dark:text-gray-300">
						Mon expertise couvre l'ensemble du cycle de développement, de la conception à la mise en production, en passant par l'optimisation des performances et la sécurité.
					</p>
				</div>

				<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8">
					<h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">
						Mes valeurs
					</h2>
					<ul class="space-y-4">
						<li class="flex items-start">
							<svg class="h-6 w-6 text-indigo-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
							</svg>
							<span class="text-gray-600 dark:text-gray-300">Qualité et excellence dans le code</span>
						</li>
						<li class="flex items-start">
							<svg class="h-6 w-6 text-indigo-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
							</svg>
							<span class="text-gray-600 dark:text-gray-300">Innovation et veille technologique</span>
						</li>
						<li class="flex items-start">
							<svg class="h-6 w-6 text-indigo-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
							</svg>
							<span class="text-gray-600 dark:text-gray-300">Partage des connaissances</span>
						</li>
					</ul>
				</div>
			</div>

			<div class="space-y-8">
				<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8">
					<h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">
						Mes contributions
					</h2>
					<div class="grid grid-cols-2 gap-4">
						<div class="text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
							<div class="text-3xl font-bold text-indigo-600 dark:text-indigo-400">{totalArticles}</div>
							<div class="text-gray-600 dark:text-gray-300">Articles publiés</div>
						</div>
						<div class="text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
							<div class="text-3xl font-bold text-indigo-600 dark:text-indigo-400">{totalBooks}</div>
							<div class="text-gray-600 dark:text-gray-300">Livres recommandés</div>
						</div>
					</div>
				</div>

				<div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8">
					<h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">
						Mes compétences
					</h2>
					<div class="flex flex-wrap gap-2">
						<span class="px-3 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full text-sm">React</span>
						<span class="px-3 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full text-sm">Node.js</span>
						<span class="px-3 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full text-sm">TypeScript</span>
						<span class="px-3 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full text-sm">Python</span>
						<span class="px-3 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full text-sm">Machine Learning</span>
						<span class="px-3 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full text-sm">AWS</span>
					</div>
				</div>
			</div>
		</div>

		<div class="text-center">
			<a 
				href="/contact" 
				class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
			>
				Me contacter
				<svg class="ml-2 -mr-1 h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
				</svg>
			</a>
		</div>
	</div>
</BaseLayout>
