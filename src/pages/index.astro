---
import { getCollection } from 'astro:content';

// Layout import — provides basic page elements: <head>, <nav>, <footer> etc.
import BaseLayout from '../layouts/BaseLayout.astro';
import PageBanner from '../components/PageBanner.astro';

// Component Imports

// Page section components

// Récupération du contenu : Liste des quatre derniers projets de travail
const projects = (await getCollection('work'))
	.sort((a: any, b: any) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
	.slice(0, 4);

// Domaines d'expertise
const expertiseDomains = [
	{
		title: "Gestion de Projet Télécom",
		icon: "fas fa-tasks",
		color: "text-blue-600",
		bgColor: "bg-blue-100 dark:bg-blue-900/30",
		description: "Coordination d'équipes multidisciplinaires, mise en place de processus d'optimisation réseau, et amélioration continue de la performance des infrastructures télécom."
	},
	{
		title: "Développement Web",
		icon: "fas fa-laptop-code",
		color: "text-green-600",
		bgColor: "bg-green-100 dark:bg-green-900/30",
		description: "Conception d'applications web front-end et back-end, optimisation de la sécurité et de la performance des sites, et implémentation d'architecture réseau robuste."
	},
	{
		title: "Qualité & Process",
		icon: "fas fa-clipboard-check",
		color: "text-purple-600",
		bgColor: "bg-purple-100 dark:bg-purple-900/30",
		description: "Mise en place et supervision de processus qualité, audits et conformité, KPIs et tableaux de bord, et amélioration continue des processus d'entreprise."
	},
	{
		title: "Formation & Coaching",
		icon: "fas fa-graduation-cap",
		color: "text-red-600",
		bgColor: "bg-red-100 dark:bg-red-900/30",
		description: "Accompagnement des équipes commerciales et techniques, élaboration de programmes de formation sur mesure, et évaluation des performances pour optimiser les résultats."
	}
];

// Expérience professionnelle
const experiences = [
	{
		company: "KEOS TELECOM",
		position: "Chef de projet",
		period: "Depuis 2021",
		description: "Pilotage de projets complexes, amélioration de la performance des infrastructures, et coordination d'équipes techniques."
	},
	{
		company: "ACTIV PARTNERS",
		position: "Développeur web front-end",
		period: "2019-2021",
		description: "Développement d'applications web, optimisation de la sécurité et gestion de projets digitaux."
	},
	{
		company: "SFR",
		position: "Chargé de formation & développement",
		period: "2016-2019",
		description: "Formation des équipes commerciales, optimisation des performances, et développement stratégique."
	}
];

// Métadonnées SEO optimisées
const pageTitle = "Gérald Paméole | Développeur Web Full Stack & Expert React";
const pageDescription = "Portfolio de Gérald Paméole, développeur web full stack spécialisé en React, Node.js et TypeScript. Découvrez mes projets, compétences et services.";

// Syntaxe complète des composants Astro :
// https://docs.astro.build/core-concepts/astro-components/
---
<BaseLayout
	title={pageTitle}
	description={pageDescription}
	customClass="bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800"
>
	<main class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12">
		<!-- En-tête de page -->
		<section class="py-16 md:py-24 bg-gradient-to-r from-indigo-600/5 to-violet-600/5">
			<div class="max-w-3xl mx-auto text-center">
				<h1 class="text-4xl md:text-5xl font-bold mb-6 text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-blue-500">
					Gérald Paméole
				</h1>
				<p class="text-xl font-semibold text-gray-800 dark:text-gray-200 mb-6">Chef de projet télécom & Développeur Web</p>
				<p class="text-lg text-gray-600 dark:text-gray-300 mb-8">
					Fort de plus de 15 ans d'expérience, je pilote des projets complexes dans le secteur des télécommunications 
					et développe des applications web performantes. J'optimise les processus d'entreprise et forme des équipes 
					pour atteindre l'excellence opérationnelle.
				</p>
				<div class="flex flex-wrap justify-center gap-3 mb-8">
					<span class="px-4 py-2 rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300">
						Gestion de Projet
					</span>
					<span class="px-4 py-2 rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300">
						Développement Web
					</span>
					<span class="px-4 py-2 rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300">
						Qualité & Process
					</span>
					<span class="px-4 py-2 rounded-full bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300">
						Formation
					</span>
				</div>
				<div class="flex items-center justify-center gap-x-6">
					<a href="/projets" class="rounded-md bg-indigo-600 px-5 py-3 text-base font-semibold text-white shadow-md hover:bg-indigo-500 transition-colors duration-300">
						Voir mes projets
					</a>
					<a href="/skills" class="rounded-md border border-indigo-600 px-5 py-3 text-base font-semibold text-indigo-600 dark:text-indigo-400 shadow-md hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors duration-300">
						Mes compétences
					</a>
				</div>
			</div>
		</section>
		
		<!-- Domaines d'expertise -->
		<section class="py-16 bg-white dark:bg-gray-800 rounded-xl shadow-lg mb-16">
			<div class="max-w-3xl mx-auto text-center mb-12">
				<h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">
					Mes domaines d'expertise
				</h2>
				<p class="text-lg text-gray-600 dark:text-gray-300">
					Je propose des solutions personnalisées pour répondre aux besoins spécifiques de votre entreprise.
				</p>
			</div>
			
			<div class="grid grid-cols-1 md:grid-cols-2 gap-8 px-6">
				{expertiseDomains.map((domain) => (
					<div class="bg-white dark:bg-gray-700 p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
						<div class="flex items-center gap-3 mb-4">
							<div class={`p-3 rounded-lg ${domain.color} ${domain.bgColor}`}>
								<span class="text-xl">
									<i class={domain.icon}></i>
								</span>
							</div>
							<h3 class="text-xl font-bold text-gray-900 dark:text-white">{domain.title}</h3>
						</div>
						<p class="text-gray-600 dark:text-gray-300">
							{domain.description}
						</p>
					</div>
				))}
			</div>
		</section>
		
		<!-- Parcours professionnel -->
		<section class="py-16 bg-white dark:bg-gray-800 rounded-xl shadow-lg mb-16">
			<div class="max-w-3xl mx-auto text-center mb-12">
				<h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-4">
					Mon parcours professionnel
				</h2>
				<p class="text-lg text-gray-600 dark:text-gray-300">
					Une expérience diversifiée qui renforce mes compétences en gestion de projet, développement web et commercial et me permet de comprendre les enjeux et besoins de votre entreprise.
				</p>
			</div>
			
			<div class="max-w-3xl mx-auto px-6">
				<div class="relative border-l-2 border-indigo-500 dark:border-indigo-400 ml-3 md:ml-6 pl-8 py-4">
					{experiences.map((exp, index) => (
						<div class={index !== experiences.length - 1 ? "mb-12" : ""}>
							<div class="absolute w-4 h-4 bg-indigo-600 rounded-full -left-2 mt-2"></div>
							<div class="bg-white dark:bg-gray-700 rounded-lg shadow-md p-6 transform transition-all duration-300 hover:shadow-lg hover:-translate-y-1">
								<div class="flex flex-col md:flex-row md:justify-between md:items-center mb-4">
									<h3 class="text-xl font-bold text-gray-800 dark:text-white">{exp.company}</h3>
									<span class="text-indigo-600 dark:text-indigo-400 font-medium">{exp.period}</span>
								</div>
								<p class="text-lg font-semibold text-gray-700 dark:text-gray-300 mb-3">{exp.position}</p>
								<p class="text-gray-600 dark:text-gray-300">
									{exp.description}
								</p>
							</div>
						</div>
					))}
				</div>
			</div>
		</section>
		
		<!-- Appel à l'action -->
		<section class="py-16 bg-gradient-to-r from-indigo-600 to-blue-500 rounded-xl text-white shadow-lg">
			<div class="max-w-3xl mx-auto text-center px-6">
				<h2 class="text-3xl font-bold text-white mb-4">
					Besoin d'un expert pour votre projet ?
				</h2>
				<p class="text-lg text-indigo-100 max-w-3xl mx-auto mb-8">
					Que vous ayez un projet télécom, web ou besoin d'accompagnement pour vos équipes, 
					contactez-moi pour discuter de vos besoins spécifiques.
				</p>
				<a href="/contact" class="inline-block bg-white text-indigo-600 px-6 py-3 rounded-md font-semibold shadow-md hover:bg-indigo-50 transition-colors duration-300">
					Me contacter
				</a>
			</div>
		</section>
	</main>
</BaseLayout>

<style>
	.container {
		max-width: 1200px;
		margin: 0 auto;
		padding: 2rem;
	}

	h1 {
		text-align: center;
		margin-bottom: 2rem;
		background-image: linear-gradient(to right, #4f46e5, #3b82f6);
		-webkit-background-clip: text;
		background-clip: text;
		color: transparent;
		text-shadow: 0 2px 4px rgba(0,0,0,0.1);
	}

	p {
		text-align: center;
		color: var(--gray-300);
		margin-bottom: 2rem;
	}

	.hero {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 2rem;
	}

	.roles {
		display: none;
	}

	.hero img {
		/* aspect-ratio: 3 / 4;
		object-position: top;
		border-radius: 1.5rem;
		box-shadow: var(--shadow-md); */
		
	}

	@media (min-width: 50em) {
		.hero {
			display: grid;
			grid-template-columns: 6fr 4fr;
			padding-inline: 2.5rem;
			gap: 3.75rem;
		}

		.roles {
			margin-top: 0.5rem;
			display: flex;
			gap: 0.5rem;
		}

		.hero img {
			aspect-ratio: 3/4;
			border-radius: 1.5rem;
			object-fit: cover;
		}
	}

	/* ====================================================== */

	.section {
		display: grid;
		gap: 2rem;
	}

	.with-background {
		position: relative;
	}

	.with-background::before {
		--hero-bg: var(--bg-image-subtle-2);

		content: '';
		position: absolute;
		pointer-events: none;
		left: 50%;
		width: 100vw;
		aspect-ratio: calc(2.25 / var(--bg-scale));
		top: 0;
		transform: translateY(-75%) translateX(-50%);
		background:
			url('/assets/backgrounds/noise.png') top center/220px repeat,
			var(--hero-bg) center center / var(--bg-gradient-size) no-repeat,
			var(--gray-999);
		background-blend-mode: overlay, normal, normal, normal;
		mix-blend-mode: var(--bg-blend-mode);
		z-index: -1;
	}

	.with-background.bg-variant::before {
		--hero-bg: var(--bg-image-subtle-1);
	}

	.section-header {
		justify-self: center;
		text-align: center;
		max-width: 50ch;
		font-size: var(--text-md);
		color: var(--gray-300);
	}

	.section-header h3 {
		font-size: var(--text-2xl);
		text-align: center;
	}

	@media (min-width: 50em) {
		.section {
			grid-template-columns: repeat(4, 1fr);
			grid-template-areas: 'header header header header' 'gallery gallery gallery gallery';
			gap: 5rem;
		}

		.section.with-cta {
			grid-template-areas: 'header header header cta' 'gallery gallery gallery gallery';
		}

		.section-header {
			grid-area: header;
			font-size: var(--text-lg);
		}

		.section-header h3 {
			font-size: var(--text-4xl);
		}

		.with-cta .section-header {
			justify-self: flex-start;
			text-align: left;
		}

		.gallery {
			grid-area: gallery;
		}

		.cta {
			grid-area: cta;
		}
	}

	/* ====================================================== */

	.mention-card {
		display: flex;
		height: 7rem;
		justify-content: center;
		align-items: center;
		text-align: center;
		border: 1px solid var(--gray-800);
		border-radius: 1.5rem;
		color: var(--gray-300);
		background: var(--gradient-subtle);
		box-shadow: var(--shadow-sm);
	}

	@media (min-width: 50em) {
		.mention-card {
			border-radius: 1.5rem;
			height: 9.5rem;
		}
	}
</style>

<!-- Script pour charger Font Awesome pour les icônes -->
<script defer is:inline>
  // Ajout de Font Awesome
  if (!document.querySelector('#font-awesome')) {
    const link = document.createElement('link');
    link.id = 'font-awesome';
    link.rel = 'stylesheet';
    link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css';
    document.head.appendChild(link);
  }
  
  // Animation pour les éléments au scroll
  document.addEventListener('DOMContentLoaded', () => {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-fade-in');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });
    
    document.querySelectorAll('section').forEach(section => {
      observer.observe(section);
    });
  });
</script>
